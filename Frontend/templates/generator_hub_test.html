<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Hub - Frontend Test</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        .test-section { background: white; padding: 20px; margin: 20px 0; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        h1 { color: #333; margin-bottom: 20px; }
        h2 { color: #666; margin-top: 20px; margin-bottom: 10px; font-size: 1.3em; }
        .form-group { margin-bottom: 15px; }
        label { display: block; font-weight: bold; margin-bottom: 5px; color: #333; }
        input, textarea, select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-family: Arial; }
        textarea { min-height: 80px; resize: vertical; }
        button { background: #4CAF50; color: white; padding: 12px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 1em; margin-right: 10px; }
        button:hover { background: #45a049; }
        button:disabled { background: #cccccc; }
        .output { background: #f9f9f9; padding: 15px; margin-top: 15px; border-left: 4px solid #4CAF50; border-radius: 4px; max-height: 400px; overflow-y: auto; }
        .error { color: red; }
        .success { color: green; }
        .loading { color: orange; }
        pre { background: #f0f0f0; padding: 10px; border-radius: 4px; overflow-x: auto; }
        .action-buttons { margin-top: 15px; }
        .action-btn { background: #2196F3; margin-bottom: 5px; }
        .action-btn:hover { background: #0b7dda; }
    </style>
</head>
<body>

<div class="container">
    <h1>üöÄ Generator Hub - Frontend Test Interface</h1>
    <p>Test all three Generator Hub modules directly from the browser</p>

    <!-- Test 1: Marketing Campaign -->
    <div class="test-section">
        <h2>Test 1: AI Marketing Strategist</h2>
        <p>Generate comprehensive marketing campaigns with targeted content, ad copy, and CTAs</p>
        
        <div class="form-group">
            <label>Product Details</label>
            <textarea id="product_details" placeholder="Describe your product: features, benefits, pricing, target market...">AI email marketing platform with subject line optimization and 40% better open rates. Price: $99-$499/month for B2B SaaS teams.</textarea>
        </div>
        
        <div class="form-group">
            <label>LinkedIn Target Demographics</label>
            <textarea id="linkedin_demographics" placeholder="Target audience: job titles, industries, company sizes...">Marketing directors at B2B SaaS companies (250-1000 employees), budget approval authority, focus on ROI metrics</textarea>
        </div>
        
        <button onclick="testMarketingCampaign()">üìä Generate Campaign Strategy</button>
        <div id="campaignOutput" class="output" style="display:none;"></div>
    </div>

    <!-- Test 2: Sales Pitch -->
    <div class="test-section">
        <h2>Test 2: B2B Sales Pitch Architect</h2>
        <p>Create personalized sales pitches tailored to specific prospect roles and company tiers</p>
        
        <div class="form-group">
            <label>Prospect Title</label>
            <input type="text" id="prospect_title" placeholder="e.g., VP of Sales, IT Director, CFO" value="VP of Sales">
        </div>
        
        <div class="form-group">
            <label>Company Tier</label>
            <select id="company_tier">
                <option value="Fortune 500">Fortune 500</option>
                <option value="Large Enterprise (1000+ employees)">Large Enterprise (1000+ employees)</option>
                <option value="Mid-Market (250-1000 employees)" selected>Mid-Market (250-1000 employees)</option>
                <option value="Small Business (50-250 employees)">Small Business (50-250 employees)</option>
                <option value="Startup (<50 employees)">Startup (<50 employees)</option>
            </select>
        </div>
        
        <div class="form-group">
            <label>Product Info (Optional)</label>
            <textarea id="product_info" placeholder="Brief description of your solution">Sales intelligence platform with AI-powered deal insights</textarea>
        </div>
        
        <button onclick="testSalesPitch()">üé§ Generate Sales Pitch</button>
        <div id="pitchOutput" class="output" style="display:none;"></div>
    </div>

    <!-- Test 3: Lead Scorer -->
    <div class="test-section">
        <h2>Test 3: Intelligent Lead Scorer</h2>
        <p>Intelligently score leads with hybrid algorithm + LLM reasoning</p>
        
        <div class="form-group">
            <label>Budget</label>
            <input type="text" id="budget" placeholder="e.g., $50k, $250k, 1.5M" value="$250000">
        </div>
        
        <div class="form-group">
            <label>Timeline</label>
            <select id="timeline">
                <option value="Immediate (This week)">Immediate (This week)</option>
                <option value="This Month">This Month</option>
                <option value="This Quarter" selected>This Quarter</option>
                <option value="This Year">This Year</option>
                <option value="Next Year or Later">Next Year or Later</option>
            </select>
        </div>
        
        <div class="form-group">
            <label>Urgency Level</label>
            <select id="urgency">
                <option value="Critical/High" selected>Critical/High</option>
                <option value="Medium">Medium</option>
                <option value="Low">Low</option>
            </select>
        </div>
        
        <div class="form-group">
            <label>Additional Context (Optional)</label>
            <textarea id="additional_context" placeholder="Any additional information about this lead">Series B funded startup, 3x YoY growth, moving fast</textarea>
        </div>
        
        <button onclick="testLeadScore()">üìà Calculate Lead Score</button>
        <div id="scoreOutput" class="output" style="display:none;"></div>
    </div>

</div>

<script>
    async function testMarketingCampaign() {
        const output = document.getElementById('campaignOutput');
        output.innerHTML = '<span class="loading">‚è≥ Generating campaign strategy...</span>';
        output.style.display = 'block';
        
        const payload = {
            product_details: document.getElementById('product_details').value,
            linkedin_demographics: document.getElementById('linkedin_demographics').value
        };
        
        try {
            const response = await fetch('/api/generator/marketing-campaign', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
            
            const data = await response.json();
            
            if (data.error) {
                output.innerHTML = `<span class="error">‚ùå Error: ${data.error}</span>`;
            } else if (data.result) {
                output.innerHTML = `<span class="success">‚úì Campaign Generated Successfully!</span>
                <pre>${JSON.stringify(data.result, null, 2).substring(0, 1000)}...</pre>
                <p><strong>Summary:</strong></p>
                <ul>
                    <li>Campaign Objectives: ${data.result.campaign_objectives ? data.result.campaign_objectives.length : 0} items</li>
                    <li>Content Ideas: ${data.result.content_ideas ? data.result.content_ideas.length : 0} ideas</li>
                    <li>Ad Copy Variations: ${data.result.ad_copy_variations ? data.result.ad_copy_variations.length : 0} variations</li>
                    <li>Timeline: ${data.result.campaign_timeline || 'Not specified'}</li>
                </ul>`;
            }
        } catch (e) {
            output.innerHTML = `<span class="error">‚ùå Network Error: ${e.message}</span>`;
        }
    }

    async function testSalesPitch() {
        const output = document.getElementById('pitchOutput');
        output.innerHTML = '<span class="loading">‚è≥ Generating sales pitch...</span>';
        output.style.display = 'block';
        
        const payload = {
            prospect_title: document.getElementById('prospect_title').value,
            company_tier: document.getElementById('company_tier').value,
            product_info: document.getElementById('product_info').value
        };
        
        try {
            const response = await fetch('/api/generator/sales-pitch', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
            
            const data = await response.json();
            
            if (data.error) {
                output.innerHTML = `<span class="error">‚ùå Error: ${data.error}</span>`;
            } else if (data.result) {
                output.innerHTML = `<span class="success">‚úì Sales Pitch Generated Successfully!</span>
                <pre>${JSON.stringify(data.result, null, 2).substring(0, 1000)}...</pre>
                <p><strong>Summary:</strong></p>
                <ul>
                    <li>Elevator Pitch: ${data.result.elevator_pitch_30sec ? '‚úì' : '‚úó'}</li>
                    <li>Differentiators: ${data.result.differentiators ? data.result.differentiators.length : 0} items</li>
                    <li>Discovery Questions: ${data.result.discovery_questions ? data.result.discovery_questions.length : 0} questions</li>
                    <li>Social Proof Angles: ${data.result.social_proof_angles ? data.result.social_proof_angles.length : 0} angles</li>
                </ul>`;
            }
        } catch (e) {
            output.innerHTML = `<span class="error">‚ùå Network Error: ${e.message}</span>`;
        }
    }

    async function testLeadScore() {
        const output = document.getElementById('scoreOutput');
        output.innerHTML = '<span class="loading">‚è≥ Calculating lead score...</span>';
        output.style.display = 'block';
        
        const payload = {
            budget: document.getElementById('budget').value,
            timeline: document.getElementById('timeline').value,
            urgency: document.getElementById('urgency').value,
            additional_context: document.getElementById('additional_context').value
        };
        
        try {
            const response = await fetch('/api/generator/lead-score', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
            
            const data = await response.json();
            
            if (data.error) {
                output.innerHTML = `<span class="error">‚ùå Error: ${data.error}</span>`;
            } else if (data.result) {
                const score = data.result.lead_score;
                const scoreColor = score >= 80 ? 'green' : score >= 60 ? 'orange' : 'red';
                output.innerHTML = `<span class="success">‚úì Lead Score Calculated Successfully!</span>
                <p style="font-size: 1.5em; color: ${scoreColor}; font-weight: bold;">Lead Score: ${score}/100</p>
                <pre>${JSON.stringify(data.result, null, 2).substring(0, 1000)}...</pre>
                <p><strong>Summary:</strong></p>
                <ul>
                    <li>Lead Score: <span style="color: ${scoreColor}; font-weight: bold;">${score}/100</span></li>
                    <li>Conversion Probability: ${data.result.conversion_probability || 'N/A'}</li>
                    <li>Reasoning: ${data.result.reasoning ? data.result.reasoning.substring(0, 100) + '...' : 'N/A'}</li>
                    <li>Recommended Action: ${data.result.recommended_action || 'N/A'}</li>
                </ul>`;
            }
        } catch (e) {
            output.innerHTML = `<span class="error">‚ùå Network Error: ${e.message}</span>`;
        }
    }
</script>

</body>
</html>
